SET(CMAKE_INCLUDE_CURRENT_DIR ON)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../include)

SET(_sources device.c toc.c latin1.c msjis.c)

ADD_LIBRARY(libcueify SHARED ${_sources})

SET_TARGET_PROPERTIES(libcueify PROPERTIES
    VERSION ${libcueify_VERSION}
    SOVERSION ${libcueify_SOVERSION}
    DEFINE_SYMBOL LIBCUEIFY_API_EXPORTS
)

IF(CMAKE_COMPILER_IS_GNUCC)
    SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Werror -Wextra -pedantic-errors")
ENDIF(CMAKE_COMPILER_IS_GNUCC)

INSTALL(TARGETS libcueify DESTINATION ${LIB_INSTALL_DIR})
