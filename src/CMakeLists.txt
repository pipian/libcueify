SET(CMAKE_INCLUDE_CURRENT_DIR ON)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/../include)

SET(_sources cdrom.c toc.c latin1.c msjis.c)

ADD_LIBRARY(cueify SHARED ${_sources})

SET_TARGET_PROPERTIES(cueify PROPERTIES
    VERSION ${cueify_VERSION}
    SOVERSION ${cueify_SOVERSION}
    DEFINE SYMBOL CUEIFY_API_EXPORTS
)

IF(CMAKE_COMPILER_IS_GNUCC)
    SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Werror -Wextra -pedantic-errors")
ENDIF(CMAKE_COMPILER_IS_GNUCC)

INSTALL(TARGETS cueify DESTINATION ${LIB_INSTALL_DIR})
